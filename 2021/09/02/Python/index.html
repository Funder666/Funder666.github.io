<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Python学习笔记, Restart的部落格">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Python学习笔记 | Restart的部落格</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    	      
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css">
    <script src="//cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget/autoload.js"></script>    

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.4.0"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>



   <style>
    body{
       background-image: url(https://cdn.jsdelivr.net/gh/Tokisaki-Galaxy/res/site/medias/background.jpg);
       background-repeat:no-repeat;
       background-size:cover;
       background-attachment:fixed;
    }
</style>



<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Restart的部落格</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>小伙伴</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Restart的部落格</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			小伙伴
		</a>
          
        </li>
        
        
    </ul>
</div>


        </div>

        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/0.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Python学习笔记</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Python/">
                                <span class="chip bg-color">Python</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2021-09-02
                </div>
                

                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    10.2k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    44 分
                </div>
                

                
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>   在大一的时候我们学过了数据分析，可这其实只是对Python几个库的运用罢了，这使得我们对于Python语言的掌握还是非常粗浅的，这一点我在学习Python爬虫的时候深有体会。原本我以为自己有一定Python基础，便能直接进行爬虫的学习，实则发现自己很多地方都因为缺失相关知识而听不懂，因此我决定跟着B站老师系统性的学一遍Python,以下的笔记记录了与我而言较容易遗忘的地方。</p>
<span id="more"></span>

<h1 id="变量与数据类型"><a href="#变量与数据类型" class="headerlink" title="变量与数据类型"></a>变量与数据类型</h1><p>变量必须以字母或下滑线开头</p>
<p>其他字符可以是字母，数字或_</p>
<p>变量区分大小写</p>
<p>Python关键字不能用作变量名</p>
<table>
<thead>
<tr>
<th>Python关键字</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>None</td>
<td>class</td>
<td>from</td>
<td>or</td>
</tr>
<tr>
<td>True</td>
<td>continue</td>
<td>global</td>
<td>pass</td>
</tr>
<tr>
<td>peg_parser</td>
<td>def</td>
<td>if</td>
<td>raise</td>
</tr>
<tr>
<td>and</td>
<td>del</td>
<td>import</td>
<td>return</td>
</tr>
<tr>
<td>as</td>
<td>elif</td>
<td>in</td>
<td>try</td>
</tr>
<tr>
<td>assert</td>
<td>else</td>
<td>is</td>
<td>while</td>
</tr>
<tr>
<td>async</td>
<td>except</td>
<td>lambda</td>
<td>with</td>
</tr>
<tr>
<td>await</td>
<td>finally</td>
<td>nonlocal</td>
<td>yield</td>
</tr>
</tbody></table>
<p><strong>命名规范：</strong></p>
<p>见名知意，尽量使用有语义的单词命名。如使用 password用作密码， username用户名。<br>小驼峰式命名法：第一个单词首字母小写其他单词首字母大写，如 userName<br>大驼峰式命名法：全部单词首字母都用大写，如 UserName<br>下划线命名法：每个单词用下划线连接，如 user_name</p>
<h1 id="算数与比较运算"><a href="#算数与比较运算" class="headerlink" title="算数与比较运算"></a>算数与比较运算</h1><p>a=7 b=3</p>
<table>
<thead>
<tr>
<th align="center">算术预算符</th>
<th align="center">作用描述</th>
<th align="center">示例</th>
</tr>
</thead>
<tbody><tr>
<td align="center">**指数</td>
<td align="center">左边的数是底数，右边的数是指数</td>
<td align="center">a**b=343</td>
</tr>
<tr>
<td align="center">//地板除</td>
<td align="center">x//y结果是忽略小数点后面的小数位，只保留整数位</td>
<td align="center">a//b=2</td>
</tr>
</tbody></table>
<h1 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h1><p>()—&gt;not—&gt;and—&gt;or</p>
<h1 id="输入和输出"><a href="#输入和输出" class="headerlink" title="输入和输出"></a>输入和输出</h1><p><strong>输出：</strong></p>
<ol>
<li><p>格式符+占位符</p>
<pre class=" language-Python"><code class="language-Python">name="Restart"
age=18
print("姓名:%s,年龄:%d"%(name,age))
</code></pre>
</li>
<li><p>.format()</p>
<pre class=" language-python"><code class="language-python">name<span class="token operator">=</span><span class="token string">"Restart"</span>
age<span class="token operator">=</span><span class="token number">18</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"姓名:&amp;#123;&amp;#125;,年龄:&amp;#123;&amp;#125;"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
</li>
</ol>
<p><strong>输入</strong>：input(“:***”)  str类型</p>
<pre><code>age=int(input(&quot;年龄:&quot;))
</code></pre>
<h1 id="循环流程3"><a href="#循环流程3" class="headerlink" title="循环流程3"></a>循环流程3</h1><h2 id="——for循环"><a href="#——for循环" class="headerlink" title="——for循环"></a>——for循环</h2><p>语法特点：遍历循环，依次的取集合容器中的每个值</p>
<p>for 临时变量 in 容器：</p>
<p>​    执行代码块</p>
<pre class=" language-python"><code class="language-python">tags<span class="token operator">=</span><span class="token string">"我是一个中国人"</span>
<span class="token keyword">for</span> item <span class="token keyword">in</span> tags<span class="token punctuation">:</span>
    <span class="token keyword">print</span>（item<span class="token punctuation">)</span>
    <span class="token keyword">pass</span>
</code></pre>
<p>​    range(start,stop,step)</p>
<ul>
<li>start: 计数从 start 开始。默认是从 0 开始。例如range（5）等价于range（0， 5）;</li>
<li>stop: 计数到 stop 结束，但不包括 stop。例如：range（0， 5） 是[0, 1, 2, 3, 4]没有5</li>
<li>step：步长，默认为1。例如：range（0， 5） 等价于 range(0, 5, 1)</li>
</ul>
<pre><code>for data in range(1,100)
    print(data,end=&quot;&quot;)
</code></pre>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#for循环打印九九乘法表</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"%d*%d=%d"</span><span class="token operator">%</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>i<span class="token operator">*</span>j<span class="token punctuation">)</span><span class="token punctuation">,</span>end<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">)</span>
        <span class="token keyword">pass</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">pass</span>
</code></pre>
<p>break:跳出整个循环</p>
<p>continue:跳过本次循环，继续下一次循环</p>
<p>#这两个关键字只能用于循环中</p>
<h1 id="字符串操作"><a href="#字符串操作" class="headerlink" title="字符串操作"></a>字符串操作</h1><h2 id="——字符串常用函数"><a href="#——字符串常用函数" class="headerlink" title="——字符串常用函数"></a>——字符串常用函数</h2><p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/6uPjp5xw1QVzABL.png"></p>
<h2 id="——分片提取"><a href="#——分片提取" class="headerlink" title="——分片提取"></a>——分片提取</h2><p>​        string</p>
<ul>
<li>通常上边界不包括在提取字符串内</li>
<li>如果没有指定值，则分片的边界默认为0和序列的长度</li>
<li><strong>str[1:3</strong>]**获取从偏移为1的字符一直到偏移为3的字符串，不包括偏移为3的字符串 : “tr”</li>
<li><strong>str[1:]</strong> 获取从偏移为1的字符一直到字符串的最后一个字符（包括最后一个字符）: “tring”</li>
<li><strong>str[:3]</strong> 获取从偏移为0的字符一直到偏移为3的字符串，不包括偏移为3的字符串 : “str”</li>
<li><strong>str[:-1]</strong> 获取从偏移为0的字符一直到最后一个字符（不包括最后一个字符串）: “strin”</li>
<li><strong>str[:]</strong> 获取字符串从开始到结尾的所有元素 : “string”</li>
<li><strong>str[-3:-1]</strong> 获取偏移为 -3 到偏移为 -1 的字符，不包括偏移为 -1 的字符 : “in”</li>
<li><strong>str[-1:-3]</strong> 和 <strong>str[2:0]</strong> 获取的为空字符，系统不提示错误: “”</li>
<li>分片的时候还可以增加一个步长，<strong>str[::2]</strong> 输出的结果为: “srn”</li>
<li></li>
</ul>
<h1 id="列表操作"><a href="#列表操作" class="headerlink" title="列表操作"></a>列表操作</h1><p>列表常用函数</p>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/%E5%88%97%E8%A1%A8%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0.png"></p>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#追加    .append()&amp;.entend()</span>
listA<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
data<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>
listA<span class="token punctuation">.</span>append<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
——<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
listA<span class="token punctuation">.</span>extend<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
——<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>

<span class="token comment" spellcheck="true">#删除</span>
listB<span class="token operator">=</span>range<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span>
de1 1istB<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token comment" spellcheck="true">#删除列表中第一个元素</span>
de1 1istB<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token comment" spellcheck="true">#批量删除多项数据</span>
1istB<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#移除指定的元素 参数是具体的数据值</span>
list<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#移除指定的项 参数是素引值</span>
</code></pre>
<h1 id="元组操作"><a href="#元组操作" class="headerlink" title="元组操作"></a>元组操作</h1><p>注意点：当元组中只有一个元素时，要加上逗号，不然后解释器会当做整形来处理</p>
<h1 id="字典操作"><a href="#字典操作" class="headerlink" title="字典操作"></a>字典操作</h1><pre class=" language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>dictA<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment" spellcheck="true">#获取所有的键</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dictA<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#获取所有的值</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dictA<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#获取所有的键和值</span>

dictA<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#123;"height":1.8&amp;#125;) #可以添加或更新</span>

<span class="token comment" spellcheck="true">#删除</span>
<span class="token keyword">del</span> dictA<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token comment" spellcheck="true">#通过指定键删除</span>
dicta<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#通过指定键删除</span>

<span class="token comment" spellcheck="true">#排序</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>sorted<span class="token punctuation">(</span>list<span class="token punctuation">,</span>key<span class="token operator">=</span><span class="token keyword">lambda</span> d<span class="token punctuation">:</span>d<span class="token punctuation">[</span>?<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>sorted<span class="token punctuation">(</span>dictA<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>key<span class="token operator">=</span><span class="token keyword">lambda</span> d<span class="token punctuation">:</span>d<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#按照key排序</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>sorted<span class="token punctuation">(</span>dictA<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>key<span class="token operator">=</span><span class="token keyword">lambda</span> d<span class="token punctuation">:</span>d<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#按照value排序</span>

<span class="token comment" spellcheck="true"># "+" 合并</span>

<span class="token comment" spellcheck="true"># "*" 复制</span>
listA<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>listA<span class="token operator">*</span><span class="token number">3</span><span class="token punctuation">)</span>
——<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>

<span class="token comment" spellcheck="true"># "in"  对象是否存在，返回一个bool值</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">4</span> <span class="token keyword">in</span> listA<span class="token punctuation">)</span>
——<span class="token boolean">False</span>
</code></pre>
<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><p>函数的定义:</p>
<p>def 函数名():<br>         代码块    </p>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#带参数调用函数</span>
<span class="token keyword">def</span> <span class="token function">printInfo</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>height<span class="token punctuation">,</span>weight<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%s的身高是%f'</span><span class="token operator">%</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>height<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%s的年龄是%f'</span><span class="token operator">%</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%s的体重是%f'</span><span class="token operator">%</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>weight<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">pass</span>
printInfo<span class="token punctuation">(</span><span class="token string">"Restart"</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">175</span><span class="token punctuation">,</span><span class="token number">130</span><span class="token punctuation">)</span>
</code></pre>
<p>参数的分类：必选参数、默认参数[缺省参数]、可选参数、关键字参数</p>
<h2 id="——必选参数"><a href="#——必选参数" class="headerlink" title="——必选参数"></a>——必选参数</h2><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">sum</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token comment" spellcheck="true">#形式参数：只是实际意义上的一种参数，在定义的时候不占内存地址</span>
    sum<span class="token operator">=</span>a<span class="token operator">+</span>b
    <span class="token keyword">print</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span>
    <span class="token keyword">pass</span>
sum<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#35</span>
</code></pre>
<h2 id="——默认参数-缺省参数"><a href="#——默认参数-缺省参数" class="headerlink" title="——默认参数[缺省参数]"></a>——默认参数[缺省参数]</h2><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#始终存在于参数列表中的尾部</span>
<span class="token keyword">def</span> <span class="token function">sum</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"%d"</span> <span class="token operator">%</span><span class="token punctuation">(</span>a<span class="token operator">+</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">pass</span>
sum<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#20</span>
sum<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#30</span>
</code></pre>
<h2 id="——可变长的参数类型"><a href="#——可变长的参数类型" class="headerlink" title="——可变长的参数类型"></a>——可变长的参数类型</h2><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">getComputer</span><span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">)</span><span class="token punctuation">:</span>
    result<span class="token operator">=</span><span class="token number">0</span>
    <span class="token keyword">for</span> item <span class="token keyword">in</span> args<span class="token punctuation">:</span>
        result<span class="token operator">+=</span>item
        <span class="token keyword">pass</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'result=%d'</span><span class="token operator">%</span>result<span class="token punctuation">)</span>
    <span class="token keyword">pass</span>
getComputer<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#15</span>
    
    
</code></pre>
<h2 id="——关键字参数类型"><a href="#——关键字参数类型" class="headerlink" title="——关键字参数类型"></a>——关键字参数类型</h2><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># **来定义</span>
<span class="token comment" spellcheck="true"># 在函数体内 参数关键字是一个字典类型</span>
</code></pre>
<pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">keyFunc</span><span class="token punctuation">(</span><span class="token operator">**</span>haHa<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>haHa<span class="token punctuation">)</span>
dictA<span class="token operator">=</span><span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#123;'name':'Restart','age':20&amp;#125;</span>
keyFunc<span class="token punctuation">(</span><span class="token operator">**</span>dictA<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#&amp;#123;'name': 'Restart', 'age': 20&amp;#125;</span>
keyFunc<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'Restart'</span><span class="token punctuation">,</span>age<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#&amp;#123;'name': 'Restart', 'age': 20&amp;#125;</span>
</code></pre>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#混合使用</span>
<span class="token comment" spellcheck="true">#可选参数必须放到关键字可选参数之前</span>
<span class="token comment" spellcheck="true">#可选参数：接收的数据是一个元组类型</span>
<span class="token comment" spellcheck="true">#关键字可选参数：接收到的数据是一个字典类型</span>
<span class="token keyword">def</span> <span class="token function">complexFunc</span><span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span><span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>kwargs<span class="token punctuation">)</span>
    <span class="token keyword">pass</span>
complexFunc<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span>name<span class="token operator">=</span><span class="token string">"Restart"</span><span class="token punctuation">)</span>
</code></pre>
<h1 id="函数返回值"><a href="#函数返回值" class="headerlink" title="函数返回值"></a>函数返回值</h1><pre><code>概念：函数执行完以后会返回一个对象，如果在函数的内部有 return就可以返回实际的值，否则返回None
类型：可以返回任意类型，返回值类型应该取决于 return后面的类型
用途：给调用方返回数据
</code></pre>
<blockquote>
<p>在一个函数体内可以出现多个 return值：但是肯定只能返回一个 return<br>如果在一个函数体内执行了 return，意味着函数就退出了。return后面的代码语句不会执行 </p>
</blockquote>
<pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">Sum</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">:</span>
    sum<span class="token operator">=</span>a<span class="token operator">+</span>b
    <span class="token keyword">return</span> sum
value<span class="token operator">=</span>Sum<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
</code></pre>
<h1 id="全局变量和局部变量"><a href="#全局变量和局部变量" class="headerlink" title="全局变量和局部变量"></a>全局变量和局部变量</h1><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#如果在函数的内部要想对全局变量进行修改的话，必须使用global关键字</span>
pro<span class="token operator">=</span><span class="token string">"计算机信息管理"</span>
<span class="token keyword">def</span> <span class="token function">changeGlobal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">global</span> pro
    pro<span class="token operator">=</span><span class="token string">"市场营销"</span>
    <span class="token keyword">pass</span>
changeGlobal<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>pro<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#"市场营销"</span>
        
</code></pre>
<h1 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h1><p>Python中使用lambda关键字创建匿名函数，所谓匿名即这个函数没有名字不用def关键字创建标准的函数</p>
<blockquote>
<p>用法:</p>
<p>lambda 参数1,参数2,参数3:执行代码块</p>
<p>特点:</p>
<ol>
<li>使用lambda关键字创建函数</li>
<li>没有名字的函数</li>
<li>匿名函数后面的表达式只有一个,注意:是表达式,不是语句</li>
<li>匿名函数自带return,而这个return的结果就是表达式计算后的结果        </li>
</ol>
</blockquote>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#通过变量调用匿名函数</span>
test<span class="token operator">=</span><span class="token keyword">lambda</span> x<span class="token punctuation">,</span>y<span class="token punctuation">:</span>x<span class="token operator">+</span>y
test<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#换成普通函数为:</span>
<span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span>    
<span class="token keyword">return</span> x<span class="token operator">+</span>y
</code></pre>
<h1 id="递归函数"><a href="#递归函数" class="headerlink" title="递归函数"></a>递归函数</h1><p>定义:函数内部调用自身</p>
<blockquote>
<p>注意:递归函数必须要有一个结束条件,否则递归无法结束会一直递归下去,直到到达最大递归深度后报错</p>
<p>优点:逻辑简单,定义简单</p>
<p>缺点:容易导致栈溢出,内存资源紧张,甚至内存泄漏</p>
</blockquote>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#递归阶乘</span>
<span class="token keyword">def</span> <span class="token function">diguiJc</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> n<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token number">1</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> n<span class="token operator">*</span>diguiJc<span class="token punctuation">(</span>n<span class="token number">-1</span><span class="token punctuation">)</span>
    <span class="token keyword">pass</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'10的阶乘:&amp;#123;&amp;#125;'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>diguiJc<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<h1 id="内置函数"><a href="#内置函数" class="headerlink" title="内置函数"></a>内置函数</h1><h2 id="——数学函数"><a href="#——数学函数" class="headerlink" title="——数学函数"></a>——数学函数</h2><p>常用数学运算函数</p>
<ul>
<li>abs()</li>
<li>round()</li>
<li>pow()</li>
<li>divmod()</li>
<li>max()</li>
<li>min()</li>
<li>sum()</li>
<li>eval()</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210626160245510.png" alt="image-20210626160245510"></p>
<h2 id="——类型转换"><a href="#——类型转换" class="headerlink" title="——类型转换"></a>——类型转换</h2><ul>
<li><p>int()</p>
</li>
<li><p>float()</p>
</li>
<li><p>str()</p>
</li>
<li><p>ord()</p>
</li>
<li><p>chr()</p>
</li>
<li><p>bool()</p>
</li>
<li><p>bin()</p>
</li>
<li><p>hex()</p>
</li>
<li><p>oct()</p>
</li>
<li><p>list()</p>
</li>
<li><p>tuple()</p>
</li>
<li><p>dict()</p>
</li>
<li><p>bytes()</p>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210627120851899.png" alt="image-20210627120851899"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210627120855865.png" alt="image-20210627120855865"></p>
<p><img src="https://i.loli.net/2021/09/02/xfFNM8WCBsgYDE3.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210627120858499.png" alt="image-20210627120858499"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210627121002009.png" alt="image-20210627121002009"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210627121211539.png" alt="image-20210627121211539"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210627121504250.png" alt="image-20210627121504250"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210627121541775.png" alt="image-20210627121541775"></p>
<h2 id="——set"><a href="#——set" class="headerlink" title="——set"></a>——set</h2><blockquote>
<p>#set 不支持索引和切片,是一个无序的且不重复的容器</p>
<p>#类似于字典,但是只有key,没有value</p>
</blockquote>
<p>集合操作函数:</p>
<ul>
<li>add()</li>
<li>clear</li>
<li>difference</li>
<li>intersection</li>
<li>union</li>
<li>pop</li>
<li>discard</li>
<li>update</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210627122107251.png" alt="image-20210627122107251"><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210627122109335.png" alt="image-20210627122109335"><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210627122110321.png" alt="image-20210627122110321"><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210627122111065.png" alt="image-20210627122111065"><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210627122112743.png" alt="image-20210627122112743"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210627123729137.png" alt="image-20210627123729137"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210627123729731.png" alt="image-20210627123729731"></p>
<p><strong>应用:</strong></p>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#指定一个列表，列表中含有唯一一个只出现过一次的数字。写程序找出这个“独一无二”的数字</span>
li <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
set1 <span class="token operator">=</span> set<span class="token punctuation">(</span>li<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#去重</span>
<span class="token comment" spellcheck="true">#获取有重复数字的集合</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> set1<span class="token punctuation">:</span>
    li<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token keyword">pass</span>
set2 <span class="token operator">=</span> set<span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#将带有重复数字的集合去重</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> set1<span class="token punctuation">:</span>
    <span class="token keyword">if</span> i <span class="token operator">not</span> <span class="token keyword">in</span> set2<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
        <span class="token keyword">pass</span>
    <span class="token keyword">pass</span>
</code></pre>
<h1 id="序列操作"><a href="#序列操作" class="headerlink" title="序列操作"></a>序列操作</h1><p>序列操作函数:</p>
<ul>
<li><p>all()</p>
</li>
<li><p>any()</p>
</li>
<li><p>sorted()</p>
</li>
<li><p>reverse()</p>
</li>
<li><p>range()</p>
</li>
<li><p>zip()</p>
</li>
<li><p>enumerate</p>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210627155813686.png" alt="image-20210627155813686"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210627155829269.png" alt="image-20210627155829269"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210627155918407.png" alt="image-20210627155918407"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210627155922679.png" alt="image-20210627155922679"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210627155929877.png" alt="image-20210627155929877"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210627155933657.png" alt="image-20210627155933657"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210627155935905.png" alt="image-20210627155935905"></p>
<h1 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h1><h2 id="面向对象（上）"><a href="#面向对象（上）" class="headerlink" title="面向对象（上）"></a>面向对象（上）</h2><h3 id="——类和对象"><a href="#——类和对象" class="headerlink" title="——类和对象"></a>——类和对象</h3><blockquote>
<p>类由3个部分组成:</p>
<ul>
<li>类的名称:类名</li>
<li>类的属性:一组数据</li>
<li>类的方法:允许对进行操作的方法(行为)</li>
</ul>
</blockquote>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 创建一个类 </span>
<span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span> 
    name <span class="token operator">=</span> <span class="token string">'xiaohong'</span>
    age <span class="token operator">=</span> <span class="token number">18</span>
    <span class="token keyword">def</span> <span class="token function">eat</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'吃饭'</span><span class="token punctuation">)</span>
</code></pre>
<blockquote>
<p>创建对象:对象名=类名()</p>
</blockquote>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 创建一个类 </span>
<span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span> 
    name <span class="token operator">=</span> <span class="token string">'Restart'</span>
    age <span class="token operator">=</span> <span class="token number">20</span>
    <span class="token keyword">def</span> <span class="token function">eat</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'吃饭'</span><span class="token punctuation">)</span>
sb<span class="token operator">=</span>Person<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"&amp;#123;&amp;#125;的年龄是&amp;#123;&amp;#125;"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>sb<span class="token punctuation">.</span>name<span class="token punctuation">,</span>sb<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">)</span>#Restart的年龄是<span class="token number">20</span>
sb<span class="token punctuation">.</span>eat<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#吃饭</span>
</code></pre>
<blockquote>
<p>实例方法:在类的内部,使用def关键字来定义,第一个参数默认是self(名字标识可以是其他的名字,但是这个位置必须被占用)</p>
<p>属性:</p>
<ol>
<li>类属性:定义在类里面,方法外面的属性</li>
<li>实例属性:定义在方法里面使用self等引用的属性</li>
</ol>
<p>#实例能访问实例属性和类属性(无实例属性时访问类属性),类不能访问实例属性</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210628194946183.png" alt="image-20210628194946183"></p>
<blockquote>
<p>初始化方法，实例化对象的时候自动调用，完成一些初始化设置。</p>
</blockquote>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>colour<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name<span class="token operator">=</span>name
        self<span class="token punctuation">.</span>colour<span class="token operator">=</span>colour
        <span class="token keyword">pass</span>
    <span class="token keyword">pass</span>
dog<span class="token operator">=</span>Animal<span class="token punctuation">(</span><span class="token string">"旺财"</span><span class="token punctuation">,</span><span class="token string">"white"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dog<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dog<span class="token punctuation">.</span>colour<span class="token punctuation">)</span>
</code></pre>
<blockquote>
<p>self传参问题：所谓的self，可以理解为对象自己，某个对象调用其方法时，python解释器会把这个对象作为第一个参数传递给self，所以开发者只需要传递后面的参数即可（self也能用其他名称代替）</p>
</blockquote>
<p>——魔术方法</p>
<h4 id="1-str方法"><a href="#1-str方法" class="headerlink" title="1.str方法"></a>1.str方法</h4><p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210628194749830.png" alt="image-20210628194749830"></p>
<blockquote>
<p>定义了__str__方法，在打印对象的时候，会执行__str__方法。__str__方法只能return一个字符串。</p>
</blockquote>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token comment" spellcheck="true"># 创建一个初始化方法</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>colour<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>colour <span class="token operator">=</span> colour
    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'我的名字是%s,我的颜色为%s'</span><span class="token operator">%</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span>self<span class="token punctuation">.</span>colour<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 实例化对象</span>
dog <span class="token operator">=</span> Animal<span class="token punctuation">(</span><span class="token string">'旺财'</span><span class="token punctuation">,</span><span class="token string">'white'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dog<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#我的名字是旺财,我的颜色为white</span>
</code></pre>
<h4 id="2-new方法："><a href="#2-new方法：" class="headerlink" title="2.new方法："></a>2.new方法：</h4><blockquote>
<p>#new和init函数的区别<br>#new类的实例化方法必须要返回该实例，否则对象就创建不成功<br>#init用来做数据属性的初始化工作，也可以认为是实例的构造方法，接受类的实例self并对其进行构造<br>#new至少有一个参数是cls代表要实例化的类，此参数在实例化时由 python解释器自动提供<br>#new函数执行要早于init函数</p>
</blockquote>
<pre class=" language-python"><code class="language-python">    <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span><span class="token operator">*</span>args<span class="token punctuation">,</span><span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        创建对象实例的方法，每调用一次 就会生成一个新的对象cls  就是class的缩写

        场景：可以控制创建对象的一些属性限定  经常用来做单例模式的时候来使用
        '''</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"---new---函数的执行"</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> object<span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#在这里是真正创建对象实例的</span>
    <span class="token keyword">pass</span>
</code></pre>
<h4 id="——单例模式"><a href="#——单例模式" class="headerlink" title="——单例模式"></a>——单例模式</h4><pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">SingleCase</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token operator">not</span> cls<span class="token punctuation">.</span>__instance<span class="token punctuation">:</span><span class="token comment" spellcheck="true">#如果不存在就开始创建</span>
            cls<span class="token punctuation">.</span>__instance <span class="token operator">=</span> super<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 调用父类__new__方法生成一个实例对象</span>
        <span class="token keyword">return</span> cls<span class="token punctuation">.</span>__instance

obj1 <span class="token operator">=</span> SingleCase<span class="token punctuation">(</span><span class="token string">'xiaoming'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span>
obj2 <span class="token operator">=</span> SingleCase<span class="token punctuation">(</span><span class="token string">'xiaoming'</span><span class="token punctuation">,</span><span class="token number">118</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>id<span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># id相等，说明实例化两次对象，实际上都是同一个对象</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>id<span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<h3 id="应用：双人对战小游戏"><a href="#应用：双人对战小游戏" class="headerlink" title="应用：双人对战小游戏"></a>应用：双人对战小游戏</h3><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 创建类</span>
<span class="token keyword">class</span> <span class="token class-name">Hero</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token comment" spellcheck="true">#创建初始化方法</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># 定义name, blood 属性</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>blood <span class="token operator">=</span> <span class="token number">100</span>

    <span class="token keyword">def</span> <span class="token function">tong</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> enemy<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""捅对方一刀"""</span>
        enemy<span class="token punctuation">.</span>blood <span class="token operator">-=</span> <span class="token number">15</span>
        info <span class="token operator">=</span> <span class="token string">'%s 捅了 %s 一刀'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> enemy<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">kanren</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> enemy<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""砍对方一刀"""</span>

        enemy<span class="token punctuation">.</span>blood <span class="token operator">-=</span> <span class="token number">15</span>
        info <span class="token operator">=</span> <span class="token string">'%s 砍了 %s 一刀'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> enemy<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">chiyao</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""吃药不血"""</span>

        self<span class="token punctuation">.</span>blood <span class="token operator">+=</span> <span class="token number">10</span>
        info <span class="token operator">=</span> <span class="token string">'%s 吃了一颗补血药，加10滴血'</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>name
        <span class="token keyword">print</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'%s 还剩下 %s 血'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> self<span class="token punctuation">.</span>blood<span class="token punctuation">)</span>

wjl<span class="token operator">=</span>Hero<span class="token punctuation">(</span><span class="token string">'wjl'</span><span class="token punctuation">)</span>
wh<span class="token operator">=</span>Hero<span class="token punctuation">(</span><span class="token string">'wh'</span><span class="token punctuation">)</span>
wh<span class="token punctuation">.</span>tong<span class="token punctuation">(</span>wjl<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#wh捅了wjl一刀</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>wjl<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#wh还剩下100滴血</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>wh<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#wjl还剩下90滴血</span>
</code></pre>
<h2 id="面向对象（中）"><a href="#面向对象（中）" class="headerlink" title="面向对象（中）"></a>面向对象（中）</h2><h3 id><a href="#" class="headerlink" title></a></h3><p>定义：当一个对象被删除或者被销毁时，python解释器也会默认调用一个方法，这个方法为__del__()方法，也称为析构方法</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'_init_方法被调用'</span><span class="token punctuation">)</span>

        <span class="token comment" spellcheck="true">#析构方法，当对象呗销毁时python解析器会自动调用</span>

    <span class="token keyword">def</span> <span class="token function">__del__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'_del_方法会被调用'</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%s对象被销毁'</span><span class="token operator">%</span>self<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

dog <span class="token operator">=</span> Animal<span class="token punctuation">(</span><span class="token string">"旺财"</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#将对象删除</span>
<span class="token keyword">del</span> dog
</code></pre>
<h3 id="——单继承"><a href="#——单继承" class="headerlink" title="——单继承"></a>——单继承</h3><blockquote>
<p>​    在定义子类时要继承父类，只需要类名后面的小括号()中写上父类的名字，那么父类的属性、方法，会被继承给子类。    </p>
<p>​    对于面向对象的继承来说，其实就是将多个类共有的方法提取到父类中，子类仅需继承父类而不必一一实现每个方法</p>
</blockquote>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">eat</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"正在吃饭"</span><span class="token punctuation">)</span>
        <span class="token keyword">pass</span>
    <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true">#Cat类继承Animal类，Cat是子类，也称派生类，Animal类是父类，也称为基类</span>
    <span class="token keyword">def</span> <span class="token function">mmj</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"喵喵叫"</span><span class="token punctuation">)</span>
        <span class="token keyword">pass</span>
    <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">wwj</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"汪汪叫"</span><span class="token punctuation">)</span>
        <span class="token keyword">pass</span>
    <span class="token keyword">pass</span>

dog<span class="token operator">=</span>Dog<span class="token punctuation">(</span><span class="token punctuation">)</span>
dog<span class="token punctuation">.</span>eat<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#正在吃法</span>
cat<span class="token operator">=</span>Cat<span class="token punctuation">(</span><span class="token punctuation">)</span>
cat<span class="token punctuation">.</span>eat<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#正在吃饭</span>
</code></pre>
<h3 id="——多继承"><a href="#——多继承" class="headerlink" title="——多继承"></a>——多继承</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">eat</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"A.eat"</span><span class="token punctuation">)</span>
        <span class="token keyword">pass</span>
    <span class="token keyword">pass</span>
<span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">eat</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"B.eat"</span><span class="token punctuation">)</span>
        <span class="token keyword">pass</span>
    <span class="token keyword">pass</span>
<span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">eat</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"C.eat"</span><span class="token punctuation">)</span>
        <span class="token keyword">pass</span>
    <span class="token keyword">pass</span>
<span class="token keyword">class</span> <span class="token class-name">D</span><span class="token punctuation">(</span>B<span class="token punctuation">,</span>C<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

d<span class="token operator">=</span>D<span class="token punctuation">(</span><span class="token punctuation">)</span>
d<span class="token punctuation">.</span>eat<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#方法的执行顺序可以用mro查看</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>D<span class="token punctuation">.</span>__mro__<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#D-B-C-A</span>
</code></pre>
<h3 id="——继承的传递"><a href="#——继承的传递" class="headerlink" title="——继承的传递"></a>——继承的传递</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">GrandFather</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">eat</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'吃饭'</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">#继承 GrandFather 类</span>
<span class="token keyword">class</span> <span class="token class-name">Father</span><span class="token punctuation">(</span>GrandFather<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>
<span class="token comment" spellcheck="true">#继承 Father 类</span>
<span class="token keyword">class</span> <span class="token class-name">Son</span><span class="token punctuation">(</span>Father<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

wh <span class="token operator">=</span> Son<span class="token punctuation">(</span><span class="token punctuation">)</span>
wh<span class="token punctuation">.</span>eat<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#吃饭</span>
</code></pre>
<h3 id="——重写-amp-调用父类方法"><a href="#——重写-amp-调用父类方法" class="headerlink" title="——重写&amp;调用父类方法"></a>——重写&amp;调用父类方法</h3><blockquote>
<p>重写父类:所谓重写，就是子类中，有一个和父类相同名字的方法，在子类中的方法会覆盖掉父类中同名的方法</p>
</blockquote>
<blockquote>
<p>调用父类:如果在子类中有一个方法需要父类的功能，并且又要添加新的功能。如果直接重写父类方法，那么就要重复写很多代码。那么这就要调用父类方法</p>
</blockquote>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> color<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>color <span class="token operator">=</span> color
        <span class="token keyword">pass</span>
    <span class="token keyword">def</span> <span class="token function">bark</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">pass</span>
    <span class="token keyword">pass</span>
<span class="token keyword">class</span> <span class="token class-name">Kejiquan</span><span class="token punctuation">(</span>Dog<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> color<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token comment" spellcheck="true">#重写父类方法</span>
        Dog<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>color<span class="token punctuation">)</span>
        <span class="token comment" spellcheck="true">#super().__init__(name,color) 自动找到父类进而找到方法</span>
        self<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">90</span>
        self<span class="token punctuation">.</span>weight <span class="token operator">=</span> <span class="token number">20</span>
        <span class="token keyword">pass</span>
    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span><span class="token string">"&amp;#123;&amp;#125;的颜色是&amp;#123;&amp;#125;，身高是&amp;#123;&amp;#125;cm，体重是&amp;#123;&amp;#125;kg"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span>self<span class="token punctuation">.</span>color<span class="token punctuation">,</span>self<span class="token punctuation">.</span>height<span class="token punctuation">,</span>self<span class="token punctuation">.</span>weight<span class="token punctuation">)</span>
    <span class="token keyword">pass</span>

weijialang<span class="token operator">=</span>Kejiquan<span class="token punctuation">(</span><span class="token string">'柯基犬'</span><span class="token punctuation">,</span><span class="token string">'五颜六色'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>weijialang<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#柯基犬的颜色是五颜六色，身高是90cm，体重是20kg</span>
</code></pre>
<h3 id="——类方法"><a href="#——类方法" class="headerlink" title="——类方法"></a>——类方法</h3><p>定义：类对象所拥有的方法，需要用装饰器@classmethod来标识其为类方法，对于类方法，第一个参数必须是类对象，一般以cls作为第一个参数，类方法可以通过类对象，实例对象调用</p>
<blockquote>
<p>即用@classmethod将实例方法转变为类方法</p>
</blockquote>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">People</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    country <span class="token operator">=</span> <span class="token string">"中国"</span>

    @classmethod
    <span class="token keyword">def</span> <span class="token function">get_country</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> cls<span class="token punctuation">.</span>country
        <span class="token keyword">pass</span>

    @classmethod
    <span class="token keyword">def</span> <span class="token function">change_country</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        cls<span class="token punctuation">.</span>country <span class="token operator">=</span> data
        <span class="token keyword">pass</span>
    <span class="token keyword">pass</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>People<span class="token punctuation">.</span>get_country<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#通过类对象去访问</span>
p <span class="token operator">=</span> People<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"实例对象访问:&amp;#123;&amp;#125;"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>p<span class="token punctuation">.</span>get_country<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
People<span class="token punctuation">.</span>change_country<span class="token punctuation">(</span><span class="token string">'英国'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>People<span class="token punctuation">.</span>get_country<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#通过类对象去引用</span>
</code></pre>
<h3 id="——静态方法"><a href="#——静态方法" class="headerlink" title="——静态方法"></a>——静态方法</h3><blockquote>
<p>​    静态方法(@staticmethod)中不需要额外定义参数，不需要定义实例对象,直接类对象调用,省资源</p>
</blockquote>
<h2 id="面向对象（下）"><a href="#面向对象（下）" class="headerlink" title="面向对象（下）"></a>面向对象（下）</h2><p>——私有化属性、方法</p>
<p>语法:在属性、方法前加两个下划线</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span> 
__age <span class="token operator">=</span> <span class="token number">18</span> <span class="token comment" spellcheck="true"># 定义一个私有化属性，属性名字前面加两个下划线 </span>
</code></pre>
<blockquote>
<p>使用私有化属性的场景:</p>
<p>1.把特定的属性隐藏起来,不想让类的外部进行直接调用</p>
<p>2.我想保护这个属性,不想让属性的值随意的改变</p>
<p>3.不让派生类[子类]去继承</p>
<p>#可以在类的内部访问和修改私有属性，如用str魔术方法来返回属性</p>
</blockquote>
<h3 id="——Property属性函数（"><a href="#——Property属性函数（" class="headerlink" title="——Property属性函数（?)"></a>——Property属性函数（?)</h3><p>属性函数实现方式1：</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">18</span> <span class="token comment" spellcheck="true"># 定义一个私有实例属性</span>
        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">get_age</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>__age <span class="token comment" spellcheck="true"># 访问私有实例属性</span>

    <span class="token keyword">def</span> <span class="token function">set_age</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>__age <span class="token operator">=</span> age <span class="token comment" spellcheck="true"># 修改私有实例属性</span>
        <span class="token keyword">pass</span>
    age<span class="token operator">=</span>property<span class="token punctuation">(</span>get_age<span class="token punctuation">,</span>set_age<span class="token punctuation">)</span>

Restart<span class="token operator">=</span>Person<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Restart<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
Restart<span class="token punctuation">.</span>age<span class="token operator">=</span><span class="token number">25</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Restart<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
</code></pre>
<p>实现方式2：</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">18</span> <span class="token comment" spellcheck="true"># 定义一个私有实例属性</span>
        <span class="token keyword">pass</span>
    @property
    <span class="token keyword">def</span> <span class="token function">age</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>__age <span class="token comment" spellcheck="true"># 访问私有实例属性</span>
    @age<span class="token punctuation">.</span>setter
    <span class="token keyword">def</span> <span class="token function">age</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>__age <span class="token operator">=</span> age <span class="token comment" spellcheck="true"># 修改私有实例属性</span>

Restart<span class="token operator">=</span>Person<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Restart<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
Restart<span class="token punctuation">.</span>age<span class="token operator">=</span><span class="token number">25</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Restart<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
</code></pre>
<h3 id="——异常处理"><a href="#——异常处理" class="headerlink" title="——异常处理(?)"></a>——异常处理(?)</h3><p>​    将可能出错的代码放到try里面，except可以指定类型捕获异常。except里面的代码是捕获到异常时执行,将错误捕获，这样程序就不会因为一段代码包异常而导致整个程序崩溃</p>
<p>语法：</p>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210706215629672.png" alt="image-20210706215629672"></p>
<p>捕捉所有类型的异常：</p>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210706215712630.png" alt="image-20210706215712630"></p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
    <span class="token keyword">pass</span>
<span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"hhh"</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#name 'a' is not defined</span>
<span class="token comment" spellcheck="true">#hhh</span>
</code></pre>
<p>自定义抛出异常类：</p>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 自定义一个异常类 </span>
<span class="token keyword">class</span> <span class="token class-name">LeNumExcept</span><span class="token punctuation">(</span>Exception<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># 自定义异常类需要继承Exception</span>
    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'[error]你输入的数字小于0，请输入大于0的数字'</span>

<span class="token keyword">def</span> <span class="token function">NumTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        num <span class="token operator">=</span> int<span class="token punctuation">(</span>input<span class="token punctuation">(</span><span class="token string">"请输入一个数字:"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> num <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token comment" spellcheck="true"># raise 关键字抛出异常</span>
            <span class="token keyword">raise</span> LeNumExcept<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">except</span> LeNumExcept <span class="token keyword">as</span> e<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 捕获异常</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'没有异常'</span><span class="token punctuation">)</span>
        <span class="token keyword">pass</span>
    <span class="token keyword">pass</span>
NumTest<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#请输入一个数字:-2</span>
<span class="token comment" spellcheck="true">#[error]你输入的数字小于0，请输入大于0的数字</span>
</code></pre>
<h3 id="——动态绑定方法"><a href="#——动态绑定方法" class="headerlink" title="——动态绑定方法"></a>——动态绑定方法</h3><p>动态添加实例方法需要使用types</p>
<p>动态添加实例方法：</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> types
<span class="token keyword">def</span> <span class="token function">DynamicMethod</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'&amp;#123;&amp;#125;在&amp;#123;&amp;#125;读大学'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span>self<span class="token punctuation">.</span>school<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>school<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name<span class="token operator">=</span>name
        self<span class="token punctuation">.</span>school<span class="token operator">=</span>school
        <span class="token keyword">pass</span>
    <span class="token keyword">pass</span>

Restart<span class="token operator">=</span>Student<span class="token punctuation">(</span><span class="token string">"Restart"</span><span class="token punctuation">,</span><span class="token string">"上海大学"</span><span class="token punctuation">)</span>
PrintInfo<span class="token operator">=</span>types<span class="token punctuation">.</span>MethodType<span class="token punctuation">(</span>DynamicMethod<span class="token punctuation">,</span>Restart<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#动态的绑定方法</span>
PrintInfo<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#调用动态绑定的方法</span>
<span class="token comment" spellcheck="true">#Restart在上海大学读大学</span>
</code></pre>
<p>动态添加类、静态方法：</p>
<p><img src="https://i.loli.net/2021/09/02/zDnEyZNxGg1hfuK.png" alt="image-20210707140434701"></p>
<p><img src="https://i.loli.net/2021/09/02/SC6djeBVYG1UDct.png" alt="image-20210707140437468"></p>
<h3 id="——slot函数"><a href="#——slot函数" class="headerlink" title="——slot函数"></a>——slot函数</h3><ul>
<li>限制要填加的实例属性</li>
<li>将属性存储在slots变量里，只保存名字，（原本属性都存在dict魔术方法里，有键和值），因此可以节约内存资源</li>
</ul>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    __slots__ <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span><span class="token string">'age'</span><span class="token punctuation">)</span>
    <span class="token keyword">pass</span>
A<span class="token operator">=</span>Person<span class="token punctuation">(</span><span class="token punctuation">)</span>
A<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">"Restart"</span>
A<span class="token punctuation">.</span>age<span class="token operator">=</span><span class="token number">5</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>A<span class="token punctuation">.</span>name<span class="token punctuation">,</span>A<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#Restart 5</span>
</code></pre>
<blockquote>
<p>#子类未声明slots时，那么是不会继承父类的slots,此时子类是可以随意的属性赋值的</p>
<p>#子类声明了slots时，继承父类的slots,子类slots的范围是其自身+父类的slots</p>
</blockquote>
<h2 id="飞机大战"><a href="#飞机大战" class="headerlink" title="飞机大战"></a>飞机大战</h2><p>实现方式1（面向过程）（部分）：</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> pygame <span class="token keyword">as</span> p
<span class="token keyword">import</span> pygame<span class="token punctuation">.</span>mixer

<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># 首先创建一个窗口，用来显示内容</span>
    screen <span class="token operator">=</span> p<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">350</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true"># 创建一个背景图片对象</span>
    background <span class="token operator">=</span> p<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'./feiji/background.png'</span><span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true"># 设置一个title</span>
    p<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_caption<span class="token punctuation">(</span><span class="token string">"飞机小游戏"</span><span class="token punctuation">)</span>
    p<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
    p<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>music<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'./feiji/background.mp3'</span><span class="token punctuation">)</span>
    p<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>music<span class="token punctuation">.</span>set_volume<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span>
    p<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>music<span class="token punctuation">.</span>play<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 表示无线循环播放</span>
    <span class="token comment" spellcheck="true"># 载入玩家的飞机图片</span>
    hero <span class="token operator">=</span> p<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'./feiji/hero.png'</span><span class="token punctuation">)</span>
    x<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span>

    <span class="token comment" spellcheck="true"># 设定要显示的内容</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>background<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>hero<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>
        evenlist <span class="token operator">=</span> p<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> event <span class="token keyword">in</span> evenlist<span class="token punctuation">:</span>
            <span class="token keyword">if</span> event<span class="token punctuation">.</span>type <span class="token operator">==</span> p<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"退出"</span><span class="token punctuation">)</span>
                exit<span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token keyword">pass</span>
            <span class="token keyword">elif</span> event<span class="token punctuation">.</span>type <span class="token operator">==</span> p<span class="token punctuation">.</span>KEYDOWN<span class="token punctuation">:</span>
                <span class="token keyword">if</span> event<span class="token punctuation">.</span>key <span class="token operator">==</span> p<span class="token punctuation">.</span>K_a <span class="token operator">or</span> event<span class="token punctuation">.</span>key <span class="token operator">==</span> p<span class="token punctuation">.</span>K_LEFT<span class="token punctuation">:</span>
                    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Left'</span><span class="token punctuation">)</span>
                    <span class="token keyword">if</span> x <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">:</span>
                        x <span class="token operator">-=</span> <span class="token number">10</span>
                    <span class="token keyword">pass</span>
                <span class="token keyword">elif</span> event<span class="token punctuation">.</span>key <span class="token operator">==</span> p<span class="token punctuation">.</span>K_d <span class="token operator">or</span> event<span class="token punctuation">.</span>key <span class="token operator">==</span> p<span class="token punctuation">.</span>K_RIGHT<span class="token punctuation">:</span>
                    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'right'</span><span class="token punctuation">)</span>
                    <span class="token keyword">if</span> x <span class="token operator">&lt;</span> <span class="token number">350</span><span class="token punctuation">:</span>
                        x <span class="token operator">+=</span> <span class="token number">10</span>
                    <span class="token keyword">pass</span>
                <span class="token keyword">elif</span> event<span class="token punctuation">.</span>key <span class="token operator">==</span> p<span class="token punctuation">.</span>K_SPACE<span class="token punctuation">:</span>
                    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'K_SPACE'</span><span class="token punctuation">)</span>
                    <span class="token keyword">pass</span>
                <span class="token keyword">pass</span>
            <span class="token comment" spellcheck="true"># 更新显示内容</span>
            p<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">pass</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    main<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>实现方式2（面向对象）：</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> pygame <span class="token keyword">as</span> p
<span class="token keyword">import</span> random
<span class="token keyword">import</span> time
<span class="token keyword">from</span> pygame <span class="token keyword">import</span> <span class="token operator">*</span>

<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># 首先创建一个窗口，用来显示内容</span>
    screen <span class="token operator">=</span> p<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">350</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true"># 创建一个背景图片对象</span>
    background <span class="token operator">=</span> p<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'./feiji/background.png'</span><span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true"># 设置一个title</span>
    p<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_caption<span class="token punctuation">(</span><span class="token string">"飞机小游戏"</span><span class="token punctuation">)</span>
    p<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
    p<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>music<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'./feiji/background.mp3'</span><span class="token punctuation">)</span>
    p<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>music<span class="token punctuation">.</span>set_volume<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span>
    p<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>music<span class="token punctuation">.</span>play<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 表示无线循环播放</span>
    <span class="token comment" spellcheck="true"># 创建一个飞机对象</span>
    hero <span class="token operator">=</span> HeroPlane<span class="token punctuation">(</span>screen<span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true"># 创建一个敌机对象</span>
    enemyplane <span class="token operator">=</span> EnemyPlane<span class="token punctuation">(</span>screen<span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true"># 设定要显示的内容</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>background<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment" spellcheck="true"># 显示玩家飞机的图片</span>
        hero<span class="token punctuation">.</span>display<span class="token punctuation">(</span><span class="token punctuation">)</span>
        enemyplane<span class="token punctuation">.</span>display<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 显示敌机</span>
        enemyplane<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 敌机移动</span>
        enemyplane<span class="token punctuation">.</span>shoot<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 敌机发射子弹</span>
        <span class="token comment" spellcheck="true"># 获取键盘事件</span>
        key_control<span class="token punctuation">(</span>hero<span class="token punctuation">)</span>
        <span class="token comment" spellcheck="true"># 更新显示内容</span>
        p<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>
        p<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Clock<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tick<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
    <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">HeroPlane</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> screen<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        初始化函数
        :param screen: 主窗体对象
        '''</span>
        <span class="token comment" spellcheck="true"># 设置飞机默认的位置</span>
        self<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">150</span>
        self<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">450</span>
        <span class="token comment" spellcheck="true"># 设置要显示内容的窗口</span>
        self<span class="token punctuation">.</span>screen <span class="token operator">=</span> screen
        <span class="token comment" spellcheck="true"># 生成飞机的图片对象</span>
        self<span class="token punctuation">.</span>image <span class="token operator">=</span> p<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'./feiji/hero.png'</span><span class="token punctuation">)</span>
        <span class="token comment" spellcheck="true"># 用来存放子弹的列表</span>
        self<span class="token punctuation">.</span>bulletList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">MoveLeft</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        左移动
        :return:
        '''</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>x <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>x <span class="token operator">-=</span> <span class="token number">20</span>
        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">MoveRight</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        右移动
        :return:
        '''</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>x <span class="token operator">&lt;</span> <span class="token number">310</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>x <span class="token operator">+=</span> <span class="token number">20</span>
            <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">display</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        在主窗体中显示飞机
        :return:
        '''</span>
        self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>self<span class="token punctuation">.</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment" spellcheck="true"># 完善子弹的展示逻辑</span>
        needDelItemList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> item <span class="token keyword">in</span> self<span class="token punctuation">.</span>bulletList<span class="token punctuation">:</span>
            <span class="token keyword">if</span> item<span class="token punctuation">.</span>judge<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                needDelItemList<span class="token punctuation">.</span>append<span class="token punctuation">(</span>item<span class="token punctuation">)</span>
                <span class="token keyword">pass</span>
            <span class="token keyword">pass</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> needDelItemList<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>bulletList<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
            <span class="token keyword">pass</span>
        <span class="token keyword">for</span> bullet <span class="token keyword">in</span> self<span class="token punctuation">.</span>bulletList<span class="token punctuation">:</span>
            bullet<span class="token punctuation">.</span>display<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 显示子弹的位置</span>
            bullet<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 让这个子弹进行移动 下次再显示的时候就会看到子弹再修改后的位置</span>

        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">shoot</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment" spellcheck="true"># 创建一个新的子弹对象</span>
        newBullet <span class="token operator">=</span> Bullet<span class="token punctuation">(</span>self<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y<span class="token punctuation">,</span> self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>bulletList<span class="token punctuation">.</span>append<span class="token punctuation">(</span>newBullet<span class="token punctuation">)</span>

    <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">EnemyPlane</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> screen<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment" spellcheck="true"># 默认设置一个方向</span>
        self<span class="token punctuation">.</span>direction <span class="token operator">=</span> <span class="token string">'right'</span>
        <span class="token comment" spellcheck="true"># 敌机的默认位置</span>
        self<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">0</span>
        self<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">0</span>
        self<span class="token punctuation">.</span>screen <span class="token operator">=</span> screen
        self<span class="token punctuation">.</span>image <span class="token operator">=</span> p<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'./feiji/enemy0.png'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>bulletList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">move</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        敌机移动 随机进行的
        :return:
        '''</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>direction <span class="token operator">==</span> <span class="token string">'right'</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>x <span class="token operator">+=</span> <span class="token number">2</span>
            <span class="token keyword">pass</span>
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>direction <span class="token operator">==</span> <span class="token string">'left'</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>x <span class="token operator">-=</span> <span class="token number">2</span>
            <span class="token keyword">pass</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>x <span class="token operator">></span> <span class="token number">350</span> <span class="token operator">-</span> <span class="token number">20</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>direction <span class="token operator">=</span> <span class="token string">'left'</span>
            <span class="token keyword">pass</span>
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>x <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>direction <span class="token operator">=</span> <span class="token string">'right'</span>

    <span class="token keyword">def</span> <span class="token function">display</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>self<span class="token punctuation">.</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment" spellcheck="true"># 完善子弹的展示逻辑</span>
        needDelItemList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> item <span class="token keyword">in</span> self<span class="token punctuation">.</span>bulletList<span class="token punctuation">:</span>
            <span class="token keyword">if</span> item<span class="token punctuation">.</span>judge<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                needDelItemList<span class="token punctuation">.</span>append<span class="token punctuation">(</span>item<span class="token punctuation">)</span>
                <span class="token keyword">pass</span>
            <span class="token keyword">pass</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> needDelItemList<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>bulletList<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
            <span class="token keyword">pass</span>
        <span class="token keyword">for</span> bullet <span class="token keyword">in</span> self<span class="token punctuation">.</span>bulletList<span class="token punctuation">:</span>
            bullet<span class="token punctuation">.</span>display<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 显示子弹的位置</span>
            bullet<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 让这个子弹进行移动 下次再显示的时候就会看到子弹再修改后的位置</span>

    <span class="token keyword">def</span> <span class="token function">shoot</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        敌机随机的发射子弹
        :return:
        '''</span>
        num <span class="token operator">=</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> num <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span>
            newBullet <span class="token operator">=</span> EnemyBullet<span class="token punctuation">(</span>self<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y<span class="token punctuation">,</span> self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>bulletList<span class="token punctuation">.</span>append<span class="token punctuation">(</span>newBullet<span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Bullet</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> screen<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>x <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token number">13</span>
        self<span class="token punctuation">.</span>y <span class="token operator">=</span> y <span class="token operator">-</span> <span class="token number">20</span>
        self<span class="token punctuation">.</span>screen <span class="token operator">=</span> screen
        self<span class="token punctuation">.</span>image <span class="token operator">=</span> p<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'./feiji/bullet.png'</span><span class="token punctuation">)</span>
        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">display</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>self<span class="token punctuation">.</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">move</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>y <span class="token operator">-=</span> <span class="token number">5</span>
        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">judge</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>y <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
        <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">EnemyBullet</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> screen<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>x <span class="token operator">=</span> x
        self<span class="token punctuation">.</span>y <span class="token operator">=</span> y <span class="token operator">+</span> <span class="token number">20</span>
        self<span class="token punctuation">.</span>screen <span class="token operator">=</span> screen
        self<span class="token punctuation">.</span>image <span class="token operator">=</span> p<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'./feiji/bullet1.png'</span><span class="token punctuation">)</span>
        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">display</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>self<span class="token punctuation">.</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">move</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>y <span class="token operator">+=</span> <span class="token number">5</span>
        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">judge</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>y <span class="token operator">></span> <span class="token number">500</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
        <span class="token keyword">pass</span>

<span class="token keyword">def</span> <span class="token function">key_control</span><span class="token punctuation">(</span>HeroObj<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">'''
    定义普通的参数 用来实现家键盘的检测
    :param Heroobj:课控制检测的对象
    :return:
    '''</span>
    evenlist <span class="token operator">=</span> p<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> event <span class="token keyword">in</span> evenlist<span class="token punctuation">:</span>
        <span class="token keyword">if</span> event<span class="token punctuation">.</span>type <span class="token operator">==</span> p<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"退出"</span><span class="token punctuation">)</span>
            exit<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">pass</span>
        <span class="token keyword">elif</span> event<span class="token punctuation">.</span>type <span class="token operator">==</span> p<span class="token punctuation">.</span>KEYDOWN<span class="token punctuation">:</span>
            <span class="token keyword">if</span> event<span class="token punctuation">.</span>key <span class="token operator">==</span> p<span class="token punctuation">.</span>K_a <span class="token operator">or</span> event<span class="token punctuation">.</span>key <span class="token operator">==</span> p<span class="token punctuation">.</span>K_LEFT<span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Left'</span><span class="token punctuation">)</span>
                HeroObj<span class="token punctuation">.</span>MoveLeft<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 调用函数实现左移动</span>
                <span class="token keyword">pass</span>
            <span class="token keyword">elif</span> event<span class="token punctuation">.</span>key <span class="token operator">==</span> p<span class="token punctuation">.</span>K_d <span class="token operator">or</span> event<span class="token punctuation">.</span>key <span class="token operator">==</span> p<span class="token punctuation">.</span>K_RIGHT<span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'right'</span><span class="token punctuation">)</span>
                HeroObj<span class="token punctuation">.</span>MoveRight<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 调用函数实现右移动</span>

                <span class="token keyword">pass</span>
            <span class="token keyword">elif</span> event<span class="token punctuation">.</span>key <span class="token operator">==</span> p<span class="token punctuation">.</span>K_SPACE<span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'发射子弹'</span><span class="token punctuation">)</span>
                HeroObj<span class="token punctuation">.</span>shoot<span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token keyword">pass</span>
            <span class="token keyword">pass</span>

main<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>可使用继承优化：</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> pygame <span class="token keyword">as</span> p
<span class="token keyword">import</span> random
<span class="token keyword">import</span> time
<span class="token keyword">from</span> pygame <span class="token keyword">import</span> <span class="token operator">*</span>

<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># 首先创建一个窗口，用来显示内容</span>
    screen <span class="token operator">=</span> p<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">350</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true"># 创建一个背景图片对象</span>
    background <span class="token operator">=</span> p<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'./feiji/background.png'</span><span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true"># 设置一个title</span>
    p<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_caption<span class="token punctuation">(</span><span class="token string">"飞机小游戏"</span><span class="token punctuation">)</span>
    p<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
    p<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>music<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token string">'./feiji/background.mp3'</span><span class="token punctuation">)</span>
    p<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>music<span class="token punctuation">.</span>set_volume<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span>
    p<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>music<span class="token punctuation">.</span>play<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 表示无线循环播放</span>
    <span class="token comment" spellcheck="true"># 创建一个飞机对象</span>
    hero <span class="token operator">=</span> HeroPlane<span class="token punctuation">(</span>screen<span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true"># 创建一个敌机对象</span>
    enemyplane <span class="token operator">=</span> EnemyPlane<span class="token punctuation">(</span>screen<span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true"># 设定要显示的内容</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>background<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment" spellcheck="true"># 显示玩家飞机的图片</span>
        hero<span class="token punctuation">.</span>display<span class="token punctuation">(</span><span class="token punctuation">)</span>
        enemyplane<span class="token punctuation">.</span>display<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 显示敌机</span>
        enemyplane<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 敌机移动</span>
        enemyplane<span class="token punctuation">.</span>shoot<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 敌机发射子弹</span>
        <span class="token comment" spellcheck="true"># 获取键盘事件</span>
        key_control<span class="token punctuation">(</span>hero<span class="token punctuation">)</span>
        <span class="token comment" spellcheck="true"># 更新显示内容</span>
        p<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>
        p<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Clock<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tick<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
    <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">BasePlane</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> screen<span class="token punctuation">,</span> imagePath<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        初始化基类函数
        :param screen: 主窗体对象
        :param image: 加载的图片
        '''</span>
        self<span class="token punctuation">.</span>screen <span class="token operator">=</span> screen
        self<span class="token punctuation">.</span>image <span class="token operator">=</span> p<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span>imagePath<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>bulletList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true"># 存储所有的子弹</span>
        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">display</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>self<span class="token punctuation">.</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment" spellcheck="true"># 完善子弹的展示逻辑</span>
        needDelItemList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> item <span class="token keyword">in</span> self<span class="token punctuation">.</span>bulletList<span class="token punctuation">:</span>
            <span class="token keyword">if</span> item<span class="token punctuation">.</span>judge<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                needDelItemList<span class="token punctuation">.</span>append<span class="token punctuation">(</span>item<span class="token punctuation">)</span>
                <span class="token keyword">pass</span>
            <span class="token keyword">pass</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> needDelItemList<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>bulletList<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
            <span class="token keyword">pass</span>
        <span class="token keyword">for</span> bullet <span class="token keyword">in</span> self<span class="token punctuation">.</span>bulletList<span class="token punctuation">:</span>
            bullet<span class="token punctuation">.</span>display<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 显示子弹的位置</span>
            bullet<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 让这个子弹进行移动 下次再显示的时候就会看到子弹再修改后的位置</span>

        <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">HeroPlane</span><span class="token punctuation">(</span>BasePlane<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> screen<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        初始化函数
        :param screen: 主窗体对象
        '''</span>
        <span class="token comment" spellcheck="true"># 设置飞机默认的位置</span>
        super<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> <span class="token string">'./feiji/hero.png'</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 调用父类的</span>
        self<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">150</span>
        self<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">450</span>

        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">MoveLeft</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        左移动
        :return:
        '''</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>x <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>x <span class="token operator">-=</span> <span class="token number">20</span>
        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">MoveRight</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        右移动
        :return:
        '''</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>x <span class="token operator">&lt;</span> <span class="token number">310</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>x <span class="token operator">+=</span> <span class="token number">20</span>
            <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">shoot</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment" spellcheck="true"># 创建一个新的子弹对象</span>
        newBullet <span class="token operator">=</span> CommonBullet<span class="token punctuation">(</span>self<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y<span class="token punctuation">,</span> self<span class="token punctuation">.</span>screen<span class="token punctuation">,</span> <span class="token string">'hero'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>bulletList<span class="token punctuation">.</span>append<span class="token punctuation">(</span>newBullet<span class="token punctuation">)</span>

    <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">EnemyPlane</span><span class="token punctuation">(</span>BasePlane<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> screen<span class="token punctuation">)</span><span class="token punctuation">:</span>
        super<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> <span class="token string">'./feiji/enemy0.png'</span><span class="token punctuation">)</span>
        <span class="token comment" spellcheck="true"># 默认设置一个方向</span>
        self<span class="token punctuation">.</span>direction <span class="token operator">=</span> <span class="token string">'right'</span>
        <span class="token comment" spellcheck="true"># 敌机的默认位置</span>
        self<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">0</span>
        self<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">0</span>

        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">move</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        敌机移动 随机进行的
        :return:
        '''</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>direction <span class="token operator">==</span> <span class="token string">'right'</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>x <span class="token operator">+=</span> <span class="token number">2</span>
            <span class="token keyword">pass</span>
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>direction <span class="token operator">==</span> <span class="token string">'left'</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>x <span class="token operator">-=</span> <span class="token number">2</span>
            <span class="token keyword">pass</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>x <span class="token operator">></span> <span class="token number">350</span> <span class="token operator">-</span> <span class="token number">20</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>direction <span class="token operator">=</span> <span class="token string">'left'</span>
            <span class="token keyword">pass</span>
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>x <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>direction <span class="token operator">=</span> <span class="token string">'right'</span>

    <span class="token keyword">def</span> <span class="token function">shoot</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        敌机随机的发射子弹
        :return:
        '''</span>
        num <span class="token operator">=</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> num <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span>
            newBullet <span class="token operator">=</span> CommonBullet<span class="token punctuation">(</span>self<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y<span class="token punctuation">,</span> self<span class="token punctuation">.</span>screen<span class="token punctuation">,</span> <span class="token string">'enemy'</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>bulletList<span class="token punctuation">.</span>append<span class="token punctuation">(</span>newBullet<span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">CommonBullet</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">'''
    公共的子弹类
    '''</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span>screen<span class="token punctuation">,</span> bulletType<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>type <span class="token operator">=</span> bulletType
        self<span class="token punctuation">.</span>screen <span class="token operator">=</span>screen
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>type <span class="token operator">==</span> <span class="token string">'hero'</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>x <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token number">13</span>
            self<span class="token punctuation">.</span>y <span class="token operator">=</span> y <span class="token operator">-</span> <span class="token number">20</span>
            self<span class="token punctuation">.</span>imagePath <span class="token operator">=</span> <span class="token string">'./feiji/bullet.Png'</span>
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>type <span class="token operator">==</span> <span class="token string">'enemy'</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>x <span class="token operator">=</span> x
            self<span class="token punctuation">.</span>y <span class="token operator">=</span> y <span class="token operator">+</span> <span class="token number">10</span>
            self<span class="token punctuation">.</span>imagePath <span class="token operator">=</span> <span class="token string">'./feiji/bullet1.Png'</span>
            <span class="token keyword">pass</span>
        self<span class="token punctuation">.</span>image<span class="token operator">=</span>p<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span>self<span class="token punctuation">.</span>imagePath<span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">move</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        子弹的移动
        :return:
        '''</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>type <span class="token operator">==</span> <span class="token string">'hero'</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>y <span class="token operator">-=</span> <span class="token number">2</span>
            <span class="token keyword">pass</span>
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>type <span class="token operator">==</span> <span class="token string">'enemy'</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>y <span class="token operator">+=</span> <span class="token number">2</span>
            <span class="token keyword">pass</span>
        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">display</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>self<span class="token punctuation">.</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">judge</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        判断子弹是否越界
        :return:
        '''</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>y <span class="token operator">></span> <span class="token number">500</span> <span class="token operator">or</span> self<span class="token punctuation">.</span>y <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>

    <span class="token keyword">pass</span>

<span class="token keyword">def</span> <span class="token function">key_control</span><span class="token punctuation">(</span>HeroObj<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">'''
    定义普通的参数 用来实现家键盘的检测
    :param Heroobj:课控制检测的对象
    :return:
    '''</span>
    evenlist <span class="token operator">=</span> p<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> event <span class="token keyword">in</span> evenlist<span class="token punctuation">:</span>
        <span class="token keyword">if</span> event<span class="token punctuation">.</span>type <span class="token operator">==</span> p<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"退出"</span><span class="token punctuation">)</span>
            exit<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">pass</span>
        <span class="token keyword">elif</span> event<span class="token punctuation">.</span>type <span class="token operator">==</span> p<span class="token punctuation">.</span>KEYDOWN<span class="token punctuation">:</span>
            <span class="token keyword">if</span> event<span class="token punctuation">.</span>key <span class="token operator">==</span> p<span class="token punctuation">.</span>K_a <span class="token operator">or</span> event<span class="token punctuation">.</span>key <span class="token operator">==</span> p<span class="token punctuation">.</span>K_LEFT<span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Left'</span><span class="token punctuation">)</span>
                HeroObj<span class="token punctuation">.</span>MoveLeft<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 调用函数实现左移动</span>
                <span class="token keyword">pass</span>
            <span class="token keyword">elif</span> event<span class="token punctuation">.</span>key <span class="token operator">==</span> p<span class="token punctuation">.</span>K_d <span class="token operator">or</span> event<span class="token punctuation">.</span>key <span class="token operator">==</span> p<span class="token punctuation">.</span>K_RIGHT<span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'right'</span><span class="token punctuation">)</span>
                HeroObj<span class="token punctuation">.</span>MoveRight<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 调用函数实现右移动</span>

                <span class="token keyword">pass</span>
            <span class="token keyword">elif</span> event<span class="token punctuation">.</span>key <span class="token operator">==</span> p<span class="token punctuation">.</span>K_SPACE<span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'发射子弹'</span><span class="token punctuation">)</span>
                HeroObj<span class="token punctuation">.</span>shoot<span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token keyword">pass</span>
            <span class="token keyword">pass</span>

main<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h1 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h1><h2 id="——文件的读写"><a href="#——文件的读写" class="headerlink" title="——文件的读写"></a>——文件的读写</h2><p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210709123202035.png" alt="image-20210709123202035"></p>
<p>读文件</p>
<ul>
<li>readline() 按行读取，但是一次只读取一行。</li>
<li>readlines() 按行读取，一次性读取所有内容，返回一个列表，每一行内容作为一个元素。</li>
</ul>
<p>写文件</p>
<ul>
<li>写入文件 write() 方法，参数就是需要写入的内容</li>
<li>writelines() 可传一个可迭代对象</li>
</ul>
<blockquote>
<p>with 上下文管理:自动关闭文件</p>
</blockquote>
<p>demo:</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> 
    <span class="token keyword">with</span> open<span class="token punctuation">(</span><span class="token string">'setup.py'</span><span class="token punctuation">,</span><span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span> 
        content <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span> 
        <span class="token keyword">print</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span> 
main<span class="token punctuation">(</span><span class="token punctuation">)</span> 
</code></pre>
<blockquote>
<p>二进制读写的时候,要注意编码问题,默认情况下,我们写入文件的编码是gbk</p>
</blockquote>
<h2 id="——文件的备份"><a href="#——文件的备份" class="headerlink" title="——文件的备份"></a>——文件的备份</h2><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">copyfile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># 接收用户输入的文件名</span>
    old_file <span class="token operator">=</span> input<span class="token punctuation">(</span><span class="token string">'请输入要备份的文件名:'</span><span class="token punctuation">)</span>
    file_list <span class="token operator">=</span> old_file<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true"># 构造新的文件名，加上备份后缀</span>
    new_file <span class="token operator">=</span> file_list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'_备份.'</span> <span class="token operator">+</span> file_list<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
    old_f <span class="token operator">=</span> open<span class="token punctuation">(</span>old_file<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 打开需要备份的文件</span>
    new_f <span class="token operator">=</span> open<span class="token punctuation">(</span>new_file<span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 以写的模式打开新文件,不存在则创建</span>
    content <span class="token operator">=</span> old_f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 将文件内容读取出来</span>
    new_f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>content<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 将读取的内容写入备份文件</span>
    <span class="token comment" spellcheck="true"># 将打开的文件关闭</span>
    old_f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
    new_f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
copyfile<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>​    如果处理超大文件，一次将全部内容读取出来显然是不合适的，在需求1的基础上改进下代码，让它备份大文件也不会导致内存被占满。</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">copyfile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># 接收用户输入的文件名</span>
    old_file <span class="token operator">=</span> input<span class="token punctuation">(</span><span class="token string">'请输入要备份的文件名:'</span><span class="token punctuation">)</span>
    file_list <span class="token operator">=</span> old_file<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true"># 构造新的文件名，加上备份后缀</span>
    new_file <span class="token operator">=</span> file_list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'_备份.'</span> <span class="token operator">+</span> file_list<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        <span class="token comment" spellcheck="true"># 同时打开需要备份的文件，新文件</span>
        <span class="token keyword">with</span> open<span class="token punctuation">(</span>old_file<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> old_f<span class="token punctuation">,</span> open<span class="token punctuation">(</span>new_file<span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> new_f<span class="token punctuation">:</span>
            <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            <span class="token comment" spellcheck="true"># 一次读取1024字符</span>
                content <span class="token operator">=</span> old_f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span>
                new_f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>content<span class="token punctuation">)</span>
                <span class="token comment" spellcheck="true"># 当读取的内容字符长度小于1024说明已经读取完毕</span>
                <span class="token keyword">if</span> len<span class="token punctuation">(</span>content<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">1024</span><span class="token punctuation">:</span>
                    <span class="token keyword">break</span>
    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
        <span class="token keyword">pass</span>
    <span class="token keyword">pass</span>
copyfile<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="——文件的定位"><a href="#——文件的定位" class="headerlink" title="——文件的定位"></a>——文件的定位</h2><p><strong>tell():</strong></p>
<p>文件定位，指的是当前文件指针读取到的位置，光标位置。在读写文件的过程中，如果想知道当前的位置，可以使用tell()来获取</p>
<p>truncate():截取前n个字符</p>
<p><strong>seek()</strong></p>
<ul>
<li><p>如果在操作文件的过程，需要定位到其他位置进行操作，用seek()。</p>
</li>
<li><p>seek(offset, from)有2个参数,offset，偏移量单位字节，负数是往回偏移，正数是往前偏移，from位置：0表示文件开头，1表示当前位置，2表示文件末尾</p>
</li>
</ul>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 以读模式打开test.txt 文件 </span>
f <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">'test.txt'</span><span class="token punctuation">,</span>’rb’<span class="token punctuation">)</span>
content <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 读取三个字符 </span>
<span class="token keyword">print</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span>
f<span class="token punctuation">.</span>seek<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 在当前位置往回偏移两个字节 </span>

content <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 读取三个字符 </span>
<span class="token keyword">print</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span>

f<span class="token punctuation">.</span>seek<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 定位到文章末尾，往回偏移5个字节</span>
content <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 读取三个字符 </span>
<span class="token keyword">print</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span>

f<span class="token punctuation">.</span>seek<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 定位到文章开头，往回偏移5个字节 </span>
content <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 读取三个字符 </span>
<span class="token keyword">print</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 偏移量为负数，是往回偏移，正数是往前偏移</span>
</code></pre>
<h1 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h1><h2 id="——time模块"><a href="#——time模块" class="headerlink" title="——time模块"></a>——time模块</h2><p>time.sleep(num) ，让程序执行暂停，num单位是秒</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> time 
time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#让程序暂停5秒</span>
</code></pre>
<p>常用函数：</p>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210710174859942.png" alt="image-20210710174859942"></p>
<ul>
<li><p>时间格式化输出：</p>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210710174951745.png" alt="image-20210710174951745"></p>
</li>
<li><p>实践格式化符号</p>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210710175031699.png" alt="image-20210710175031699"></p>
</li>
</ul>
<h2 id="——datetime模块"><a href="#——datetime模块" class="headerlink" title="——datetime模块"></a>——datetime模块</h2><p> datetime模块主要用于时间计算</p>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210710175130722.png" alt="image-20210710175130722"></p>
<h2 id="——os模块"><a href="#——os模块" class="headerlink" title="——os模块"></a>——os模块</h2><p>对文件进行重命名、删除等一些操作，在python中可以利用os模块</p>
<p>os模块提供一些系统级别的操作命令：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>os.getcwd()</td>
<td>获取当前工作目录，即当前python脚本工作的目录路径</td>
</tr>
<tr>
<td>os.chdir(“dirname”)</td>
<td>改变当前脚本工作目录；相当于shell下cd</td>
</tr>
<tr>
<td>os.curdir</td>
<td>返回当前目录: (‘.’)</td>
</tr>
<tr>
<td>os.pardir</td>
<td>获取当前目录的父目录字符串名：(‘..’)</td>
</tr>
<tr>
<td>os.makedirs(‘dir1/dir2’)</td>
<td>可生成多层递归目录</td>
</tr>
<tr>
<td>os.removedirs(‘dirname1’)</td>
<td>若目录为空，则删除，并递归到上一级目录，如若也为空，则删除，依此类推</td>
</tr>
<tr>
<td>os.mkdir(‘dirname’)</td>
<td>生成单级目录；相当于shell中mkdir dirname</td>
</tr>
<tr>
<td>os.rmdir(‘dirname’)</td>
<td>删除单级空目录，若目录不为空则无法删除，报错</td>
</tr>
<tr>
<td>os.listdir(‘dirname’)</td>
<td>列出指定目录下的所有文件和子目录，包括隐藏文件，并以列表方式打印</td>
</tr>
<tr>
<td>os.remove()</td>
<td>删除一个文件</td>
</tr>
<tr>
<td>os.rename(“oldname”,”new”)</td>
<td>重命名文件/目录</td>
</tr>
<tr>
<td>os.stat(‘path/filename’)</td>
<td>获取文件/目录信息</td>
</tr>
<tr>
<td>os.sep</td>
<td>操作系统特定的路径分隔符，win下为”\“,Linux下为”/“</td>
</tr>
<tr>
<td>os.linesep</td>
<td>当前平台使用的行终止符，win下为”\t\n”,Linux下为”\n”</td>
</tr>
<tr>
<td>os.pathsep</td>
<td>用于分割文件路径的字符串</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>方法</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>os.name</td>
<td>字符串指示当前使用平台。win-&gt;’nt’; Linux-&gt;’posix’</td>
</tr>
<tr>
<td>os.system(“bash command”)</td>
<td>运行shell命令，直接显示</td>
</tr>
<tr>
<td>os.environ</td>
<td>获取系统环境变量</td>
</tr>
<tr>
<td>os.path.abspath(path)</td>
<td>返回path规范化的绝对路径</td>
</tr>
<tr>
<td>os.path.split(path)</td>
<td>将path分割成目录和文件名二元组返回</td>
</tr>
<tr>
<td>os.path.dirname(path)</td>
<td>返回path的目录。其实就是os.path.split(path)的第一个元素</td>
</tr>
<tr>
<td>os.path.basename(path)</td>
<td>返回path最后的文件名。如何path以／或\结尾，那么就会返回空值。即os.path.split(path)的第二个元素</td>
</tr>
<tr>
<td>os.path.exists(path)</td>
<td>如果path存在，返回True；如果path不存在，返回False</td>
</tr>
<tr>
<td>os.path.isabs(path)</td>
<td>如果path是绝对路径，返回True</td>
</tr>
<tr>
<td>os.path.isfile(path)</td>
<td>如果path是一个存在的文件，返回True。否则返回False</td>
</tr>
<tr>
<td>os.path.isdir(path)</td>
<td>如果path是一个存在的目录，则返回True。否则返回False</td>
</tr>
<tr>
<td>os.path.join(path1[, path2[, …]])</td>
<td>将多个路径组合后返回，第一个绝对路径之前的参数将被忽略</td>
</tr>
<tr>
<td>os.path.getatime(path)</td>
<td>返回path所指向的文件或者目录的最后存取时间</td>
</tr>
<tr>
<td>os.path.getmtime(path)</td>
<td>返回path所指向的文件或者目录的最后修改时间</td>
</tr>
</tbody></table>
<h2 id="——模块的制作、安装和发布"><a href="#——模块的制作、安装和发布" class="headerlink" title="——模块的制作、安装和发布"></a>——模块的制作、安装和发布</h2><blockquote>
<p>在main.py 导入test模块，执行时模块中的测试代码也执行了,为了避免这种情况使用到一个__name__的变量，因此可将测试的代码放到 if <strong>name</strong> = ‘<strong>main</strong>‘</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210710175805931.png" alt="image-20210710175805931"></p>
<p>  all魔术方法可限定模块中可被调用的函数（只对from…import*时生效）</p>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210710175844092.png" alt="image-20210710175844092"></p>
<p>模块的发布：</p>
<ol>
<li><p>将写好的包放到一个jiaoxue/目录下</p>
</li>
<li><p>在jiaoxue/目录下创建一个文件setup.py文件</p>
<p> 文件里写入下面代码：</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> distutils<span class="token punctuation">.</span>core <span class="token keyword">import</span> setup 
<span class="token comment" spellcheck="true"># name 模块名称 </span>
<span class="token comment" spellcheck="true"># version 版本号 </span>
<span class="token comment" spellcheck="true"># description 描述 </span>
<span class="token comment" spellcheck="true"># author 作者 </span>
<span class="token comment" spellcheck="true"># py_modules 要发布的内容 </span>
setup<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"my_module"</span><span class="token punctuation">,</span> version<span class="token operator">=</span><span class="token string">"1.0"</span><span class="token punctuation">,</span> description<span class="token operator">=</span><span class="token string">"my module"</span><span class="token punctuation">,</span> 
author<span class="token operator">=</span><span class="token string">"lilei"</span><span class="token punctuation">,</span> py_modules<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'test1.A'</span><span class="token punctuation">,</span> <span class="token string">'test1.B'</span><span class="token punctuation">,</span> <span class="token string">'test2.C'</span><span class="token punctuation">,</span> <span class="token string">'test2.D'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> 
</code></pre>
</li>
<li><p>创建模块</p>
<p>   python setup.py build</p>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210710180306570.png" alt="image-20210710180306570"></p>
</li>
</ol>
<ol start="4">
<li><p>生成压缩包</p>
<p>python setup.py sdist</p>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210710180355147.png" alt="image-20210710180355147"></p>
</li>
</ol>
<ol start="5">
<li><p>tree 看下jiaoxue目录下的结构</p>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210710180451128.png" alt="image-20210710180451128"></p>
</li>
</ol>
<p>模块的安装：</p>
<ol>
<li>将上一节生成的压缩包复制到桌面解压</li>
</ol>
<ul>
<li><p>tar -zxvf my_module-1.0.tar.gz</p>
</li>
<li><p>解压后在桌面会生成一个文件夹my_module-1.0</p>
</li>
</ul>
<ol start="2">
<li>进入my_module-1.0文件夹</li>
</ol>
<p>​        cd my_module-1.0</p>
<ol start="3">
<li><p>执行命令安装 python setup.py install </p>
</li>
<li><p>查看是否安装成功</p>
</li>
</ol>
<p>​        在python的安装目录下的site-packages目录下</p>
<p><img src="https://cdn.jsdelivr.net/gh/Funder666/Blog-imgs/images/image-20210710180729435.png" alt="image-20210710180729435"></p>
<ol start="5">
<li>模块引入，可以导入说明安装成功</li>
</ol>
<h1 id="python垃圾回收机制（？）"><a href="#python垃圾回收机制（？）" class="headerlink" title="python垃圾回收机制（？）"></a>python垃圾回收机制（？）</h1><h1 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h1><h2 id="——re-match方法"><a href="#——re-match方法" class="headerlink" title="——re.match方法"></a>——<strong>re.match方法</strong></h2><p>re.match 尝试从字符串的起始位置匹配一个规则，匹配成功就返回match对象，否则返回None。可以使用group()获取匹配成功的字符串。</p>
<p>语法：re.match(pattern, string, flags=0)</p>
<p>参数说明：</p>
<table>
<thead>
<tr>
<th align="center">参数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">pattern</td>
<td>匹配的正则表达式</td>
</tr>
<tr>
<td align="center">string</td>
<td>要匹配的字符串。</td>
</tr>
<tr>
<td align="center">flags</td>
<td>标志位，用于控制正则表达式的匹配方式，如：是否区分大小写，多行匹配等等。</td>
</tr>
</tbody></table>
<p>flags可选标志位:</p>
<table>
<thead>
<tr>
<th>修饰符</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>re.I</td>
<td>使匹配对大小写不敏感</td>
</tr>
<tr>
<td>re.L</td>
<td>做本地化识别（locale-aware）匹配</td>
</tr>
<tr>
<td>re.M</td>
<td>多行匹配，影响 ^ 和 $</td>
</tr>
<tr>
<td>re.S</td>
<td>使 . 匹配包括换行在内的所有字符</td>
</tr>
<tr>
<td>re.U</td>
<td>根据Unicode字符集解析字符。这个标志影响 \w, \W, \b, \B.</td>
</tr>
<tr>
<td>re.X</td>
<td>该标志通过给予你更灵活的格式以便你将正则表达式写得更易于理解。</td>
</tr>
</tbody></table>
<blockquote>
<p>如果同时使用多个标志位使用|分割，比如re.I | re.M </p>
</blockquote>
<p>我们可以使用group(num) 或 groups() 匹配对象函数来获取匹配表达式</p>
<table>
<thead>
<tr>
<th>匹配对象方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>group(num=0)</td>
<td>匹配的整个表达式的字符串，group() 可以一次输入多个组号，在这种情况下它将返回一个包含那些组所对应值的元组。</td>
</tr>
<tr>
<td>groups()</td>
<td>返回一个包含所有小组字符串的元组，从 1 到 所含的小组号。</td>
</tr>
</tbody></table>
<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> re
str <span class="token operator">=</span> <span class="token string">'Python is the best language in the world'</span>
res <span class="token operator">=</span> re<span class="token punctuation">.</span>match<span class="token punctuation">(</span><span class="token string">'(.*) is (.*?) .*'</span><span class="token punctuation">,</span> str<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#Python is the best language in the world</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#Python</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#the</span>
</code></pre>
<h2 id="——常用的匹配规则——匹配字符"><a href="#——常用的匹配规则——匹配字符" class="headerlink" title="——常用的匹配规则——匹配字符"></a>——<strong>常用的匹配规则</strong>——<strong>匹配字符</strong></h2><table>
<thead>
<tr>
<th>符号</th>
<th>匹配规则</th>
</tr>
</thead>
<tbody><tr>
<td>.（点）</td>
<td>匹配任意1个字符除了换行符\n</td>
</tr>
<tr>
<td>[abc ]</td>
<td>匹配abc中的任意一个字符</td>
</tr>
<tr>
<td>\d</td>
<td>匹配一个数字，即0-9</td>
</tr>
<tr>
<td>\D</td>
<td>匹配非数字，即不是数字</td>
</tr>
<tr>
<td>\s</td>
<td>匹配空白，即空格，tab键</td>
</tr>
<tr>
<td>\S</td>
<td>匹配非空白，除空格，tab键之类的</td>
</tr>
<tr>
<td>\w</td>
<td>匹配单词字符，即a-z、A-Z、0-9、_</td>
</tr>
<tr>
<td>\W</td>
<td>匹配非单词字符</td>
</tr>
</tbody></table>
<p>•(点）： 匹配任意除换行符之外的字符</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> re
names<span class="token operator">=</span><span class="token string">'李达'</span><span class="token punctuation">,</span><span class="token string">'李明'</span><span class="token punctuation">,</span><span class="token string">'小王'</span>
<span class="token keyword">for</span> name <span class="token keyword">in</span> names<span class="token punctuation">:</span>
    res<span class="token operator">=</span>re<span class="token punctuation">.</span>match<span class="token punctuation">(</span><span class="token string">'李.'</span><span class="token punctuation">,</span>name<span class="token punctuation">)</span>
    <span class="token keyword">if</span> res<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">pass</span>
    <span class="token keyword">pass</span>
<span class="token comment" spellcheck="true">#李达</span>
<span class="token comment" spellcheck="true">#李明</span>
</code></pre>
<h2 id="——常用的匹配规则——匹配字符数量"><a href="#——常用的匹配规则——匹配字符数量" class="headerlink" title="——常用的匹配规则——匹配字符数量"></a>——<strong>常用的匹配规则——匹配字符数量</strong></h2><table>
<thead>
<tr>
<th align="left">符号</th>
<th align="left">匹配规则</th>
</tr>
</thead>
<tbody><tr>
<td align="left">*</td>
<td align="left">匹配前一个字符出现0次或者无限次，即可有可无</td>
</tr>
<tr>
<td align="left">+</td>
<td align="left">匹配前一个字符出现1次或者无限次，即至少有1次</td>
</tr>
<tr>
<td align="left">?</td>
<td align="left">匹配前一个字符出现1次或者0次，即要么有1次，要么没有</td>
</tr>
<tr>
<td align="left">{m}</td>
<td align="left">匹配前一个字符出现m次</td>
</tr>
<tr>
<td align="left">{m,}</td>
<td align="left">匹配前一个字符至少出现m次</td>
</tr>
<tr>
<td align="left">{n,m}</td>
<td align="left">匹配前一个字符出现从n到m次</td>
</tr>
</tbody></table>
<p> ‘*’的使用：</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> re
ret <span class="token operator">=</span> re<span class="token punctuation">.</span>match<span class="token punctuation">(</span><span class="token string">'[A-Z][A-Z]*'</span><span class="token punctuation">,</span><span class="token string">'Mn'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#匹配0次</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ret<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#M</span>
ret1 <span class="token operator">=</span> re<span class="token punctuation">.</span>match<span class="token punctuation">(</span><span class="token string">'[A-Z][a-z]*'</span><span class="token punctuation">,</span><span class="token string">'Mn'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#匹配一次</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ret1<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#Mn</span>
ret2 <span class="token operator">=</span> re<span class="token punctuation">.</span>match<span class="token punctuation">(</span><span class="token string">'[A-Z][a-z]*'</span><span class="token punctuation">,</span><span class="token string">'Mnsdfsdfs'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#匹配无限次</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ret2<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#Mnsdfsdfs</span>
</code></pre>
<p><strong>常用的匹配规则——匹配字符数量</strong></p>
<p>{n,m} ：匹配前一个字符出现从n到m次</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> re
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>match<span class="token punctuation">(</span><span class="token string">'[0-9]&amp;#123;6,11&amp;#125;@qq.com'</span><span class="token punctuation">,</span><span class="token string">'1236548@qq.com'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#1236548@qq.com</span>
</code></pre>
<h2 id="——常用的匹配规则——原生字符串"><a href="#——常用的匹配规则——原生字符串" class="headerlink" title="——常用的匹配规则——原生字符串"></a>——<strong>常用的匹配规则——原生字符串</strong></h2><p>python字符串中\作为转义字符开头，比如\n表示换行，\t表示tab键，为了表示\本身，再加一个\，成为\形式 </p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> re
mypath <span class="token operator">=</span> <span class="token string">'G:\\py资料\\1-上课资料\\4-正则表达式课件\\html'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>mypath<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 将\转义之后正常</span>
<span class="token comment" spellcheck="true">#G:\py资料\1-上课资料\4-正则表达式课件\html</span>
</code></pre>
<blockquote>
<ul>
<li><p>正则表达式里使用”&quot;作为转义字符，这就可能造成反斜杠困扰。假如你需要匹配文本中的字符”&quot;，那么使用编程语言表示的正则表达式里将需要4个反斜杠”&quot;。</p>
</li>
<li><p>在python中有原生字符串，在字符串前面加上r表示字符串中的\不转义。</p>
</li>
</ul>
</blockquote>
<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> re
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>match<span class="token punctuation">(</span><span class="token string">'c:\\\\a.txt'</span><span class="token punctuation">,</span><span class="token string">'c:\\a.txt'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>match<span class="token punctuation">(</span>r<span class="token string">'c:\\a.txt'</span><span class="token punctuation">,</span><span class="token string">'c:\\a.txt'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#c:\a.txt</span>
<span class="token comment" spellcheck="true">#c:\a.txt</span>
</code></pre>
<h2 id="——常用的匹配规则——匹配开头结尾"><a href="#——常用的匹配规则——匹配开头结尾" class="headerlink" title="——常用的匹配规则——匹配开头结尾"></a><strong>——常用的匹配规则</strong>——<strong>匹配开头结尾</strong></h2><table>
<thead>
<tr>
<th>符号</th>
<th>匹配规则</th>
</tr>
</thead>
<tbody><tr>
<td>^</td>
<td>匹配字符串开头</td>
</tr>
<tr>
<td>$</td>
<td>匹配字符串结尾</td>
</tr>
</tbody></table>
<p>示例：匹配163.com的邮箱地址:</p>
<pre class=" language-PYTHON"><code class="language-PYTHON">import re
# 正确地址
ret1 = re.match('[\w]&#123;4,20&#125;@163\.com','python@163.com')
print(ret1.group() )
#'python@163.com’

# 不正确地址
ret2 = re.match('[\w]&#123;4,20&#125;@163\.com','python@163.comsdsdds')
print(ret2.group())
#'python@163.com’

# 通过$来限定结尾
ret3 = re.match('[\w]&#123;4,20&#125;@163\.com$','python@163.comsdsdds')
print(ret3.group())
#报错
</code></pre>
<h2 id="——常用的匹配规则——分组匹配"><a href="#——常用的匹配规则——分组匹配" class="headerlink" title="——常用的匹配规则——分组匹配"></a>——<strong>常用的匹配规则</strong>——<strong>分组匹配</strong></h2><table>
<thead>
<tr>
<th>符号</th>
<th>匹配规则</th>
</tr>
</thead>
<tbody><tr>
<td>|</td>
<td>匹配左右任意一个表达式</td>
</tr>
<tr>
<td>(ab)</td>
<td>将括号中字符作为一个分组</td>
</tr>
<tr>
<td>\num</td>
<td>引用分组num匹配到的字符串</td>
</tr>
<tr>
<td>(?P)</td>
<td>分组起别名</td>
</tr>
<tr>
<td>(?P=name)</td>
<td>引用别名为name分组匹配到的字符串</td>
</tr>
</tbody></table>
<p>其实我们发现html的标签都是成对出现的，这样匹配规则html就可以引用组来实现，避免重复写。</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> re
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>match<span class="token punctuation">(</span>r<span class="token string">'&lt;([a-zA-Z]*)>.*&lt;/\1>'</span><span class="token punctuation">,</span><span class="token string">'&lt;div>hello world&lt;/div>'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#&lt;div>hello world&lt;/div></span>
</code></pre>
<p>在使用组引用的时候如果有多个组就容易造成混乱,解决上面这个问题得给分组起别名</p>
<ul>
<li>(?P)分组起别名</li>
</ul>
<p>*　(?P=name)引用别名为name分组匹配到的字符串</p>
<pre class=" language-python"><code class="language-python"><span class="token operator">&lt;</span>div<span class="token operator">></span><span class="token operator">&lt;</span>h1<span class="token operator">></span>www<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token keyword">import</span> re
ret <span class="token operator">=</span> re<span class="token punctuation">.</span>match<span class="token punctuation">(</span>r<span class="token string">'&lt;(?P&lt;name1>\w*)>&lt;(?P&lt;name2>\w*)>.*&lt;/(?P=name2)>&lt;/(?P=name1)>'</span>
               <span class="token punctuation">,</span><span class="token string">'&lt;div>&lt;h1>www.baidu.com&lt;/h1>&lt;/div>)'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ret<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#&lt;div>&lt;h1>www.baidu.com&lt;/h1>&lt;/div></span>
</code></pre>
<h2 id="——re-compile方法"><a href="#——re-compile方法" class="headerlink" title="——re.compile方法"></a>——<strong>re.compile方法</strong></h2><ul>
<li><p>compile 将正则表达式模式编译成一个正则表达式对象</p>
</li>
<li><p>使用re.compile()和保存所产生的正则表达式对象重用效率更高</p>
</li>
</ul>
<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> re
reobj<span class="token operator">=</span>re<span class="token punctuation">.</span>compile<span class="token punctuation">(</span><span class="token string">'\d&amp;#123;4&amp;#125;'</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#开始去使用模式对象reobj</span>
rs<span class="token operator">=</span>reobj<span class="token punctuation">.</span>match<span class="token punctuation">(</span><span class="token string">'1234566'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#1234</span>
</code></pre>
<h2 id="——re-search方法"><a href="#——re-search方法" class="headerlink" title="——re.search方法"></a>——<strong>re.search方法</strong></h2><ul>
<li><p>search 在全文中匹配一次，匹配到就返回</p>
</li>
<li><p>语法：re.search(pattern, string, flags=0)</p>
</li>
</ul>
<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> re
res<span class="token operator">=</span>re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">'ab'</span><span class="token punctuation">,</span><span class="token string">'abcf'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#ab</span>
</code></pre>
<h2 id="——re-findall方法"><a href="#——re-findall方法" class="headerlink" title="——re.findall方法"></a>——<strong>re.findall方法</strong></h2><p>查询字符串中某个正则表达式全部非重复的情况,返回的是一个列表</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> re
data<span class="token operator">=</span><span class="token string">'华为是华人的骄傲'</span>
res<span class="token operator">=</span>re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'华.'</span><span class="token punctuation">,</span>data<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#['华为', '华人']</span>
</code></pre>
<h2 id="——res-sub方法"><a href="#——res-sub方法" class="headerlink" title="——res.sub方法"></a>——res.sub方法</h2><p>sub 将匹配到的数据进行替换</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> re
data<span class="token operator">=</span><span class="token string">'Python是很受欢迎的编程语言'</span>
pattern<span class="token operator">=</span><span class="token string">'[a-zA-Z]+'</span>
res<span class="token operator">=</span>re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span>pattern<span class="token punctuation">,</span><span class="token string">'PHP'</span><span class="token punctuation">,</span>data<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#PHP是很受欢迎的编程语言</span>
</code></pre>
<h2 id="——re-split方法"><a href="#——re-split方法" class="headerlink" title="——re.split方法"></a>——<strong>re.split方法</strong></h2><p>split 根据匹配进行切割字符串，并返回一个列表</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> re
<span class="token comment" spellcheck="true"># 以,切割字符串，并且最多2次</span>
ret <span class="token operator">=</span> re<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">,</span><span class="token string">'hello,world,hello,world'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#['hello', 'world', 'hello,world']</span>
</code></pre>
<h2 id="——贪婪模式与非贪婪模式"><a href="#——贪婪模式与非贪婪模式" class="headerlink" title="——贪婪模式与非贪婪模式"></a>——贪婪模式与非贪婪模式</h2><p>概述:</p>
<ul>
<li><p>Python里数量词默认是贪婪的,总是尝试匹配尽可能多的字符,非贪婪则相反，总是尝试匹配尽可能少的字符。</p>
</li>
<li><p>在”*”,”?”,”+”,”{m,n}”后面加上？，使贪婪变成非贪婪.</p>
</li>
</ul>
<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> re
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>match<span class="token punctuation">(</span><span class="token string">'.*\d'</span><span class="token punctuation">,</span><span class="token string">'a2222'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#a2222</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>match<span class="token punctuation">(</span><span class="token string">'.*?\d'</span><span class="token punctuation">,</span><span class="token string">'a2222'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#a2</span>
</code></pre>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Restart</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://Funder666.github.io/2021/09/02/Python/">http://Funder666.github.io/2021/09/02/Python/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">Restart</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Python/">
                                    <span class="chip bg-color">Python</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2021/09/02/%E7%88%AC%E8%99%AB/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/10.jpg" class="responsive-img" alt="Python爬虫学习笔记">
                        
                        <span class="card-title">Python爬虫学习笔记</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            ​    在大一夏季学期至军训期间，闲暇之时想学点有意思的东西。既能让我产生兴趣，又能够促进我对于编程语言的学习，爬虫绝对是一个很好的选择。
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2021-09-02
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            Restart
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E7%88%AC%E8%99%AB/">
                        <span class="chip bg-color">爬虫</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2021/09/02/Mysql/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/5.jpg" class="responsive-img" alt="Mysql基础部分的学习">
                        
                        <span class="card-title">Mysql基础部分的学习</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            对于大数据专业来说，数据库的学习想必是不可或缺的。尽管通过知乎了解到，Mysql数据库只能处理较小的数据量，相较而言，Hbase,Hive数据库等实则更为重要。但我相信，Mysql作为如今最流行的数据库还是有学习的必要的，更何况，在掌握了其
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2021-09-02
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            Restart
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">
                        <span class="chip bg-color">数据库</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    

    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


     <script src="//cdn.jsdelivr.net/gh/ZCY1715/cdn@main/hexo-fleid%E7%BE%8E%E5%8C%96/sakura.js"></script>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>
    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7}});</script></body>

</html>
